commit 6d5655089fa4e2231a1a8edc98ecbb6b29e344e1
Author: Tor Arne Vestb√∏ <tor.arne.vestbo@nokia.com>
Date:   Mon Jul 5 17:38:51 2010 +0200

    Add three new style-hints to QFont to match CSS' generic font families

    The defaults were chosen to match major web browsers. See:

      http://xhva.net/log/?p=160

    Reviewed-by: Simon Hausmann

--- a/src/gui/text/qfont.cpp
+++ b/src/gui/text/qfont.cpp
@@ -1266,6 +1266,15 @@ QFont::StyleHint QFont::styleHint() cons
     \value OldEnglish the font matcher prefers decorative fonts.
     \value Decorative is a synonym for \c OldEnglish.
 
+    \value Monospace the font matcher prefers fonts that map to the
+    CSS generic font-family 'monospace'.
+
+    \value Fantasy the font matcher prefers fonts that map to the
+    CSS generic font-family 'fantasy'.
+
+    \value Cursive the font matcher prefers fonts that map to the
+    CSS generic font-family 'cursive'.
+
     \value System the font matcher prefers system fonts.
 */
 
--- a/src/gui/text/qfont.h
+++ b/src/gui/text/qfont.h
@@ -72,7 +72,10 @@ public:
         Courier,    TypeWriter = Courier,
         OldEnglish, Decorative = OldEnglish,
         System,
-        AnyStyle
+        AnyStyle,
+        Cursive,
+        Monospace,
+        Fantasy
     };
 
     enum StyleStrategy {
--- a/src/gui/text/qfont_mac.cpp
+++ b/src/gui/text/qfont_mac.cpp
@@ -136,8 +136,14 @@ QString QFont::defaultFamily() const
             return QString::fromLatin1("Times New Roman");
         case QFont::Courier:
             return QString::fromLatin1("Courier New");
+        case QFont::Monospace:
+            return QString::fromLatin1("Courier");
         case QFont::Decorative:
             return QString::fromLatin1("Bookman Old Style");
+        case QFont::Cursive:
+            return QString::fromLatin1("Apple Chancery");
+        case QFont::Fantasy:
+            return QString::fromLatin1("Papyrus");
         case QFont::Helvetica:
         case QFont::System:
         default:
--- a/src/gui/text/qfont_qws.cpp
+++ b/src/gui/text/qfont_qws.cpp
@@ -108,6 +108,7 @@ QString QFont::defaultFamily() const
         case QFont::Times:
             return QString::fromLatin1("times");
         case QFont::Courier:
+        case QFont::Monospace:
             return QString::fromLatin1("courier");
         case QFont::Decorative:
             return QString::fromLatin1("old english");
--- a/src/gui/text/qfont_win.cpp
+++ b/src/gui/text/qfont_win.cpp
@@ -148,9 +148,14 @@ QString QFont::defaultFamily() const
         case QFont::Times:
             return QString::fromLatin1("Times New Roman");
         case QFont::Courier:
+        case QFont::Monospace:
             return QString::fromLatin1("Courier New");
         case QFont::Decorative:
             return QString::fromLatin1("Bookman Old Style");
+        case QFont::Cursive:
+            return QString::fromLatin1("Comic Sans MS");
+        case QFont::Fantasy:
+            return QString::fromLatin1("Impact");
         case QFont::Helvetica:
             return QString::fromLatin1("Arial");
         case QFont::System:
--- a/src/gui/text/qfont_x11.cpp
+++ b/src/gui/text/qfont_x11.cpp
@@ -281,6 +281,15 @@ QString QFont::defaultFamily() const
     case QFont::Courier:
         return QString::fromLatin1("Courier");
 
+    case QFont::Monospace:
+        return QString::fromLatin1("Courier New");
+
+    case QFont::Cursive:
+        return QString::fromLatin1("Comic Sans MS");
+
+    case QFont::Fantasy:
+        return QString::fromLatin1("Impact");
+
     case QFont::Decorative:
         return QString::fromLatin1("Old English");
 
