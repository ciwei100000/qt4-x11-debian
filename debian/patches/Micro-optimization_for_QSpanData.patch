commit 09317dda494a51d101723131c5a01af4149ac5de
Author: Andreas Kling <andreas.kling@nokia.com>
Date:   Mon Dec 20 13:04:23 2010 +0100

    Micro-optimization for QSpanData::setup()
    
    Don't call QColor::rgba() in a macro arg that gets evaluated multiple times.
    
    Reviewed-by: Samuel RÃ¸dal

---
 src/gui/painting/qpaintengine_raster.cpp |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

--- a/src/gui/painting/qpaintengine_raster.cpp
+++ b/src/gui/painting/qpaintengine_raster.cpp
@@ -5154,7 +5154,8 @@ void QSpanData::setup(const QBrush &brus
     case Qt::SolidPattern: {
         type = Solid;
         QColor c = qbrush_color(brush);
-        solid.color = PREMUL(ARGB_COMBINE_ALPHA(c.rgba(), alpha));
+        QRgb rgba = c.rgba();
+        solid.color = PREMUL(ARGB_COMBINE_ALPHA(rgba, alpha));
         if ((solid.color & 0xff000000) == 0
             && compositionMode == QPainter::CompositionMode_SourceOver) {
             type = None;
